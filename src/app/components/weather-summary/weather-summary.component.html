<ion-content class="weather-page">
  <!-- Loading -->
  <ion-spinner *ngIf="loading" name="dots"></ion-spinner>

  <!-- Error -->
  <ion-card *ngIf="error">
    <ion-card-content>{{ error }}</ion-card-content>
  </ion-card>

  <!-- Weather Display -->
  <ion-card *ngIf="!loading && !error && weatherData">
    <ion-card-header>
      <ion-card-title>{{ currentCity }}</ion-card-title>
      <ion-card-subtitle>Weather Forecast</ion-card-subtitle>
    </ion-card-header>
    <ion-card-content>
      <div class="weather-info">
        <div>
          <p><strong>Temperature:</strong> {{ weatherData.temp }} 째C</p>
          <p><strong>Feels Like:</strong> {{ weatherData.feels_like }} 째C</p>
          <p><strong>Min / Max:</strong> {{ weatherData.temp_min }}째 / {{ weatherData.temp_max }}째</p>
          <p><strong>Humidity:</strong> {{ weatherData.humidity }}%</p>
        </div>
      </div>
    </ion-card-content>
  </ion-card>

  <ion-item lines="none">
    <ion-searchbar placeholder="Search city..." (ionInput)="onSearchChange($event)"></ion-searchbar>
  </ion-item>

  <ion-list *ngIf="filteredCities.length > 0">
    <ion-item button *ngFor="let city of filteredCities" (click)="getWeatherForCity(city)">
      {{ city }}
    </ion-item>
  </ion-list>
</ion-content>